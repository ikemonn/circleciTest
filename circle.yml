general:
  artifacts:
    - buildCnt.txt
machine:
  node:
    version: 0.12.6
test:
  override:
    - echo "Hello circleCI"
    # - sh install_chromedriver.sh
    - >
      version=$(curl -s http://chromedriver.storage.googleapis.com/LATEST_RELEASE)
      echo $version
      if [[ "$version" =~ ^[0-9]+\.[0-9].*$ ]]; then
         echo "chromedriver version is " $version
      else
         echo "Invalid chromedriver version!! Get latest version may be failed. Fix it." $version
         exit 1
      fi
      wget https://chromedriver.storage.googleapis.com/${version}/chromedriver_linux64.zip
      unzip chromedriver_linux64.zip
    - chromedriver -v
    # - printenv
#    - npm install -g mocha
#    - mocha --compilers coffee:coffee-script/register test.coffee | tee result.txt
#    - printenv
#    - jq --version
#    - which unbuffer
#    - dpkg -l
  post:
    - exit 0
    # - echo "post Test"
    # - echo project $CIRCLE_PROJECT_REPONAME
    # - echo user $CIRCLE_PROJECT_USERNAME
    # - echo buildNum $CIRCLE_BUILD_NUM
    # - echo retryCnt $KARTE_RETRY_COUNT
    # - printenv
    # - curl https://circleci.com/api/v1/project/$CIRCLE_PROJECT_USERNAME/$CIRCLE_PROJECT_REPONAME/$CIRCLE_BUILD_NUM
    # - sh ./rebuild.sh
